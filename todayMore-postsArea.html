<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <script src="./javascripts/vendor.js"></script> -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.min.js"
      integrity="sha512-1/8Tj23BRrWnKZXeBruk6wTnsMJbi/lJsk9bsRgVwb6j5q39n0A00gFjbCTaDo5l5XrPVv4DZXftrJExhRF/Ug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <title>篩選_現在想打球</title>
    <link rel="stylesheet" href="./stylesheets/css/style-scss.css" />
    <style>
      .fileName {
        display: none;
      }
    </style>
  </head>

  <body>
    <small class="fileName">檔名：<code>todayMore-postsArea.html</code></small>
    <!-- 載入axios套件 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <div id="root"></div>
    <script type="text/babel">
      (async () => {
        //取得json資料
        const data = await axios.get("./postData_test.json");
        const { postData } = data.data;
        console.log(postData);
        const { vb_today_postData } = postData[0];
        const { vb_week_postData } = postData[1];
        const { bm_today_postData } = postData[2];
        const { bm_week_postData } = postData[3];
        console.log(vb_today_postData);
        console.log(vb_week_postData);
        console.log(bm_today_postData);
        console.log(bm_week_postData);

        const App = () => {
          const { useState, useEffect, useRef } = React;
          //   const [todayType, setTodayType] = useState("");

          // 更改資料類型
          //    const getPosts = (type) => {
          //     switch (type) {
          //       case "vb_search_postData":
          //         return vb_today_postData;
          //       case "bm_search_postData":
          //         return bm_today_postData;

          //       default:
          //         return [];
          //     }
          //   };

          // 元件
          // 建立簡略貼文元件
          const SimplePostCard = ({
            id,
            type,
            postDate,
            postStartTime,
            postEndTime,
            postCity,
            postArea,
            postArena,
            primaryTag,
            secondaryTag,
            reqCount,
            role,
            pos,
            note,
            href,
            host
          }) => {
            // const {key,date,time,city,area,arena,tag1,tag2} = props;
            return (
              <>
                <div className="simplePostInfo">
                  <div className="main-info">
                    <div className="header">
                      <p>
                        {postDate} {postStartTime}~{postEndTime}
                      </p>
                      <div className="type-style">{type}</div>
                      <button className="collect">
                        <img src="./images/heart-no.svg" alt="收藏" />
                      </button>
                    </div>
                    <div className="areaInfo">
                            <h3>{postCity}</h3>
                            <h3>{postArea}</h3>
                            
                          </div>
                          <div className="arenaInfo">
                            <h3>{postArena}</h3>
                            </div>
                    <div className="tag-style">
                      <p>{primaryTag}</p>
                      <p>${secondaryTag}</p>
                    </div>
                  </div>
                  <div className="sub-info">
                    <div className="vacancyInfo">
                      <h4>缺額</h4>
                      <div>女</div>
                      <p>{reqCount[0].count}位</p>
                      <div>男</div>
                      <p>{reqCount[1].count}位</p>
                      <div>不限</div> <p>{reqCount[2].count}位</p>
                    </div>
                    <div className="ballInfo">
                      <h4>類型</h4>
                      <p>{role}</p>
                    </div>
                    <div className="equipInfo">
                      <h4>位置</h4>
                      <p>{pos}</p>
                    </div>
                    <div className="noteInfo">
                      <h4>備註</h4>
                      <p>{note}</p>
                    </div>
                  </div>
                  <div className="BtnContainer">
                    <a className="button" href={`#${href}`}>
                      報名
                    </a>
                  </div>
                </div>
                <ApplyCard
                  href={href}
                  type={type}
                  postDate={postDate}
                  postStartTime={postStartTime}
                  postEndTime={postEndTime}
                  postCity={postCity}
                  postArea={postArea}
                  postArena={postArena}
                  primaryTag={primaryTag}
                  secondaryTag={secondaryTag}
                  female={reqCount[0].count}
                  male={reqCount[1].count}
                  unspecified={reqCount[2].count}
                  role={role}
                  pos={pos}
                  note={note}
                  host={host}
                />
              </>
            );
          };
          //建立報名元件
          const ApplyCard = ({
            href,
            type,
            postDate,
            postStartTime,
            postEndTime,
            postCity,
            postArea,
            postArena,
            primaryTag,
            secondaryTag,
            female,
            male,
            unspecified,
            role,
            pos,
            note,
            host
          }) => {
            const hostType ='vb';
            if(type=="羽球"){
              hostType="bm";
            }
            return (
              <div className="popup" id={href}>
                <div className="popup-inner">
                  <div className="popup__content">
                    <div className="detailPostInfo">
                      <div className="simplePostInfo">
                        <div className="main-info">
                          <div className="header">
                            <p>
                              {postDate} {postStartTime}~{postEndTime}
                            </p>
                            <div className="type-style">{type}</div>
                            <button className="collect">
                              <img src="../images/heart-no.svg" alt="收藏" />
                            </button>
                          </div>
                          <div className="areaInfo">
                            <h3>{postCity}</h3>
                            <h3>{postArea}</h3>
                            <h3>{postArena}</h3>
                          </div>
                          <div className="tag-style">
                            <p>{primaryTag}</p>
                            <p>${secondaryTag}</p>
                          </div>
                        </div>
                        <div className="sub-info">
                          <div className="vacancyInfo">
                            <h4>缺額</h4>
                            <div>女</div>
                            <p>{female}位</p>
                            <div>男</div>
                            <p>{male}位</p>
                            <div>不限</div> <p>{unspecified}位</p>
                          </div>
                          <div className="ballInfo">
                            <h4>類型</h4>
                            <p>{role}</p>
                          </div>
                          <div className="equipInfo">
                            <h4>位置</h4>
                            <p>{pos}</p>
                          </div>
                          <div className="noteInfo">
                            <h4>備註</h4>
                            <p>{note}</p>
                          </div>
                        </div>

                        <div className="apply-info">
                          <hr />
                          <img
                            src={`./images/host-${hostType}.png`}
                            alt="團主頭貼"
                          />
                          <p>
                            團主<span>{host}</span>
                          </p>
                          <div>
                            <p>報名備註</p>
                            <input
                              type="text"
                              placeholder="輸入對團主的話..."
                            />
                          </div>
                        </div>

                        <div className="BtnContainer">
                          <a className="btn-close popup__close" href="#">
                            關閉
                          </a>
                          <a class="button" href="#noticeApplyPopup">確認報名</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            );
          };
          return (
            <div className="body">
              <div className="mobile-TopBar">
                <img
                  src="./images/mobile-both-topbanner.png"
                  alt="不分類的手機版banner"
                />
              </div>
              <header id="topBar">
                <nav id="top-nav">
                  <ul id="menu">
                    <li>
                      <a href="./index.html">
                        <img
                          className="icon"
                          src="./images/magnifier.png"
                          alt=""
                        />
                        探索
                      </a>
                    </li>
                    <li>
                      <a href="./publicationForm.html">
                        <img className="icon" src="./images/post.png" alt="" />
                        找人
                      </a>
                    </li>
                    <li>
                      <a href="notice.html">
                        <img className="icon" src="./images/bell3.png" alt="" />
                        行程
                      </a>
                    </li>
                    <li>
                      <a href="personal.html">
                        <img className="icon" src="./images/cat.png" alt="" />
                        個人
                      </a>
                    </li>
                  </ul>
                </nav>
                <div className="title">
                  <div className="hugTitle">
                    <h1 className="title-L" value="篩選貼文">
                      篩選貼文
                    </h1>
                  </div>
                </div>
                </header>

              <main className="filter-postArea">
                
                <section className="filter-box">
                  <a href="./index.html">
                    <div className="filter-btnBox">
                      <button id="btn-filter">
                        <img src="./images/arrow-left.png" alt="" />
                      </button>
                    </div>
                  </a>
                  <a href="#">
                    <div className="filter-info">
                      <div className="info-top">
                        <p className="title-M">今天</p>
                        <p className="title-M dot">|</p>
                        <p className="title-M">全部</p>
                      </div>

                      <div className="info-down">
                        <p className="text-M">未選擇篩選地區</p>
                      </div>
                      <img src="./images/filiter.png" alt="篩選icon" />
                    </div>
                  </a>

                  <div className="filter-postQuantity">
                    <p className="text-M" value="共有11筆資料">
                      共有11筆資料
                    </p>
                  </div>
                </section>
                <hr />
                {/* 貼文 */}
                <section className="filter-containers">
                  <div className="filter-postBlock">

                    {vb_today_postData.map((post_data) => {
                      return (
                        <SimplePostCard
                          key={post_data.id}
                          id={post_data.id}
                          type={post_data.type}
                          postDate={post_data.date}
                          postStartTime={post_data.startTime}
                          postEndTime={post_data.endTime}
                          postCity={post_data.city}
                          postArea={post_data.area}
                          postArena={post_data.arena}
                          primaryTag={post_data.tagDegree}
                          secondaryTag={post_data.tagPrice}
                          reqCount={post_data.reqCount}
                          role={post_data.role}
                          pos={post_data.pos}
                          note={post_data.note}
                          href={`ApplyPopUp-${post_data.id}`}
                          host={post_data.host}
                        />
                      );
                    })}
                  </div>
                </section>
              </main>
              <footer>
                <figure className="footer-border"></figure>
                <div>
                  <figure>
                    <img
                      id="logo"
                      src="./images/logo.png"
                      alt="logo-PlayBallNow"
                    />
                  </figure>
                  <p>Copyright© 2024 PlayBallNow. All Right Reserved. </p>
                </div>
              </footer>
              {/*燈箱效果-報名審核中通知 */}
              <div class="popup" id="noticeApplyPopup">
              <div class="popup-inner">
               <div class="popup__content">
              {/* 報名審核中通知元件 */}
              <div class="notice-apply">
              <p>已送出報名，團主審核中</p>
              <a class="popup__close" href="#">
              <img src="../images/cancel.png" alt="關閉按鈕" />
              </a>
              </div>
              </div>
              </div>
              </div>
            </div>
          );
        };
        ReactDOM.createRoot(document.getElementById("root")).render(<App />);
      })();
    </script>
  </body>
</html>
